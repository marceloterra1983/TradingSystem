@startuml
title LangGraph Development Workflow - Iterative Debugging Cycle

start

:Developer makes code changes\nin infrastructure/langgraph/src/;

:Rebuild dev container;
note right
  docker compose -f docker-compose.langgraph-dev.yml \
    up -d --build
end note

:Execute workflow via API;
note right
  curl -X POST http://localhost:8112/workflows/trading/execute \
    -H "Content-Type: application/json" \
    -d '{"symbol":"WINZ25","mode":"paper"}'
end note

if (Workflow successful?) then (yes)
  :View trace in LangSmith Studio;

  if (Performance acceptable?) then (yes)
    :Test in production mode (8111);

    if (Production test passed?) then (yes)
      :Deploy to production;
      stop
    else (no)
      :Analyze production logs;
    endif
  else (no)
    :Identify bottleneck in Studio;
    note right
      - Check node durations
      - Inspect inputs/outputs
      - Analyze timing histogram
    end note
  endif
else (no)
  :View error trace in Studio;
  note right
    - Check error message
    - Inspect failed node
    - Review input data
  end note

  :Check container logs;
  note right
    docker logs langgraph-dev -f
  end note
endif

:Identify issue and plan fix;

backward :Return to code changes;

@enduml