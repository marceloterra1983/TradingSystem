# ==============================================================================
# TradingSystem ‚Äì Default Environment Configuration
# ==============================================================================
# Valores versionados que servem como padr√£o para scripts e servi√ßos.
# O loader compartilhado (`backend/shared/config/load-env.js`) carrega
# este arquivo automaticamente, seguido de `.env` e `.env.local`.
# Ajustes locais devem ser feitos em `.env.local`.
# ==============================================================================

# ==============================================================================
# üåç GLOBAL SERVICE SETTINGS
# ==============================================================================
ENVIRONMENT=development
TZ=America/Sao_Paulo
NODE_ENV=development
DEBUG=false

# Version tag applied to all custom container images (img-*)
# Update when rebuilding images with scripts/docker/build-images.sh
IMG_VERSION=latest
CHOKIDAR_USEPOLLING=false


# ==============================================================================
# üóÉÔ∏è FRONTEND APPS DATABASE (PostgreSQL 16 + Timescale)
# ==============================================================================
FRONTEND_APPS_DB_HOST=localhost
FRONTEND_APPS_DB_PORT=5444
FRONTEND_APPS_DB_NAME=frontend_apps
FRONTEND_APPS_DB_SUPERUSER=frontend_admin
FRONTEND_APPS_DB_SUPERPASS=change_me_frontend

APP_DOCUMENTATION_DB_USER=app_documentation
APP_DOCUMENTATION_DB_PASSWORD=change_me_documentation
APP_WORKSPACE_DB_USER=app_workspace
APP_WORKSPACE_DB_PASSWORD=change_me_workspace

# ==============================================================================
# üìà TP CAPITAL DEDICATED DATABASE (Timescale + PgBouncer)
# ==============================================================================
TP_CAPITAL_DB_HOST=localhost
TP_CAPITAL_DB_PORT=5440
TP_CAPITAL_DB_USER=tp_capital
TP_CAPITAL_DB_PASSWORD=tp_capital_secure_pass_2024
TP_CAPITAL_DB_NAME=tp_capital_db
TP_CAPITAL_DB_SCHEMA=signals
TP_CAPITAL_DB_STRATEGY=dedicated
TP_CAPITAL_PGBOUNCER_PORT=6435

# ==============================================================================
# üì® TELEGRAM GATEWAY DEDICATED DATABASE
# ==============================================================================
TELEGRAM_GATEWAY_DB_HOST=localhost
TELEGRAM_GATEWAY_DB_PORT=5434
TELEGRAM_GATEWAY_DB_USER=telegram
TELEGRAM_GATEWAY_DB_PASSWORD=telegram_secure_pass
TELEGRAM_GATEWAY_DB_NAME=telegram_gateway
TELEGRAM_GATEWAY_DB_SCHEMA=telegram_gateway

# ==============================================================================
# üì≤ WAHA ‚Äì WhatsApp HTTP API Stack
# ==============================================================================
WAHA_IMAGE=devlikeapro/waha:latest-baileys
WAHA_PORT=3310
WAHA_HOST_BIND=127.0.0.1
WAHA_TZ=America/Sao_Paulo
WAHA_API_KEY=devlocal-waha-api
WAHA_API_KEY_PLAIN=devlocal-waha-api
WAHA_DASHBOARD_USERNAME=admin
WAHA_DASHBOARD_PASSWORD=devlocal-waha-dashboard
WAHA_DASHBOARD_ENABLED=true
WHATSAPP_SWAGGER_USERNAME=admin
WHATSAPP_SWAGGER_PASSWORD=devlocal-waha-swagger
WHATSAPP_SWAGGER_ENABLED=true
WAHA_DEFAULT_ENGINE=BAILEYS
WAHA_BASE_URL=http://localhost:3310
WAHA_PUBLIC_URL=http://localhost:3310
WAHA_HOSTNAME=0.0.0.0
WAHA_INTERNAL_PORT=3000
WAHA_MEDIA_STORAGE=S3
WAHA_PRINT_QR=false
WAHA_LOG_FORMAT=JSON
WAHA_LOG_LEVEL=info
WAHA_S3_PROXY_FILES=true

WAHA_POSTGRES_HOST_BIND=127.0.0.1
WAHA_POSTGRES_PORT=5438
WAHA_POSTGRES_DB=waha
WAHA_POSTGRES_USER=waha
WAHA_POSTGRES_PASSWORD=devlocal-waha-db

WAHA_MINIO_HOST_BIND=127.0.0.1
WAHA_MINIO_API_PORT=9300
WAHA_MINIO_CONSOLE_HOST_BIND=127.0.0.1
WAHA_MINIO_CONSOLE_PORT=9301
WAHA_MINIO_BUCKET=waha-media
WAHA_MINIO_REGION=us-east-1
WAHA_MINIO_ROOT_USER=wahaadmin
WAHA_MINIO_ROOT_PASSWORD=devlocal-waha-minio
WAHA_WEBHOOK_HOST_BIND=127.0.0.1
WAHA_WEBHOOK_PORT=3908
WAHA_WEBHOOK_TOKEN=devlocal-waha-webhook
WAHA_HOOK_URL=http://waha-webhook:3908/webhooks/waha
WAHA_HOOK_EVENTS=message,message.ack,session.status
WAHA_HOOK_CUSTOM_HEADERS=X-WAHA-TOKEN:${WAHA_WEBHOOK_TOKEN}

# ==============================================================================
# üóÉÔ∏è Database UI Tools & Launcher API
# ==============================================================================
PGADMIN_HOST_PORT=5050
PGADMIN_IMAGE_TAG=latest
PGWEB_HOST_PORT=8081
PGWEB_IMAGE_TAG=latest
PGWEB_DATABASE_URL=postgresql://postgres:postgres@host.docker.internal:5433/postgres?sslmode=disable
ADMINER_HOST_PORT=8082
ADMINER_IMAGE=adminer:latest

DB_TOOLS_API_PORT=3909
DB_TOOLS_API_TOKEN=devlocal-db-tools-token
VITE_DB_TOOLS_API_URL=http://localhost:3909
VITE_DB_TOOLS_API_TOKEN=${DB_TOOLS_API_TOKEN}

# ==============================================================================
# ‚öôÔ∏è n8n Automation Stack
# ==============================================================================
N8N_IMAGE=n8nio/n8n:1.78.1
N8N_HOST_BIND=127.0.0.1
N8N_HOST=localhost
N8N_PROTOCOL=http
N8N_PORT=3680
N8N_INTERNAL_PORT=5678
N8N_PATH=/n8n/
N8N_PROXY_TARGET=http://localhost:3680
N8N_BASE_URL=http://localhost:3680
N8N_WEBHOOK_URL=http://localhost:3680/
WEBHOOK_URL=http://localhost:3680/
N8N_TZ=America/Sao_Paulo
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=automation
N8N_BASIC_AUTH_PASSWORD=devlocal-n8n-basic
N8N_ENCRYPTION_KEY=devlocal-n8n-encryption-key-32chars
N8N_USER_FOLDER=/home/node/.n8n
N8N_LOG_LEVEL=info
N8N_METRICS=true
N8N_METRICS_INCLUDE_IDENTIFIERS=false
N8N_DIAGNOSTICS_ENABLED=false
N8N_PERSONALIZATION_ENABLED=false
N8N_VERSION_NOTIFICATIONS_ENABLED=false
N8N_HIDE_USAGE_PAGE=true
N8N_SKIP_WEBHOOK_DEREGISTRATION_ON_SHUTDOWN=true
N8N_HIRING_BANNER_ENABLED=false
N8N_SECURE_COOKIE=false
N8N_ENFORCE_SETTINGS_FILE_PERMISSIONS=true
N8N_SECURITY_ALLOW_EMBEDDING_IN_IFRAME=true
N8N_PREVIEW_MODE=true
N8N_QUEUE_HEALTH_CHECK_ACTIVE=true
N8N_EXECUTIONS_MODE=queue
N8N_RUNNERS_ENABLED=true
OFFLOAD_MANUAL_EXECUTIONS_TO_WORKERS=true
N8N_WORKER_CONCURRENCY=5
N8N_REDIS_DB=0
N8N_REDIS_TIMEOUT_THRESHOLD=30000

N8N_POSTGRES_IMAGE=postgres:16-alpine
N8N_POSTGRES_HOST_BIND=127.0.0.1
N8N_POSTGRES_PORT=5442
N8N_POSTGRES_DB=n8n
N8N_POSTGRES_USER=n8n
N8N_POSTGRES_PASSWORD=devlocal-n8n-db
N8N_POSTGRES_MAX_CONNECTIONS=200
N8N_POSTGRES_SHARED_BUFFERS=256MB

N8N_REDIS_IMAGE=redis:7-alpine
N8N_REDIS_HOST_BIND=127.0.0.1
N8N_REDIS_PORT=6390
N8N_REDIS_PASSWORD=devlocal-n8n-redis
# ==============================================================================
# üóÇÔ∏è WORKSPACE DEDICATED DATABASE (PostgreSQL 17)
# ==============================================================================
WORKSPACE_DATABASE_HOST=localhost
WORKSPACE_DATABASE_PORT=5450
WORKSPACE_DATABASE_NAME=workspace
WORKSPACE_DATABASE_USER=postgres
WORKSPACE_DATABASE_PASSWORD=workspace_secure_pass

# ==============================================================================
# üìö SERVICE DATABASE CONNECTIONS (UNIFIED FRONTEND CLUSTER)
# ==============================================================================
LIBRARY_DB_STRATEGY=postgresql
WORKSPACE_PORT=3200

# Workspace API (schema: workspace)
WORKSPACE_DATABASE_SCHEMA=workspace
WORKSPACE_DATABASE_URL=postgresql://${WORKSPACE_DATABASE_USER}:${WORKSPACE_DATABASE_PASSWORD}@${WORKSPACE_DATABASE_HOST}:${WORKSPACE_DATABASE_PORT}/${WORKSPACE_DATABASE_NAME}?schema=${WORKSPACE_DATABASE_SCHEMA:-workspace}
WORKSPACE_TABLE_NAME=workspace_items
WORKSPACE_DATABASE_POOL_MAX=10
WORKSPACE_DATABASE_TIMEOUT_MS=5000
WORKSPACE_DATABASE_SSL=false

# Documentation API
DOCUMENTATION_DATABASE_SCHEMA=documentation
DOCUMENTATION_DATABASE_URL=postgresql://${APP_DOCUMENTATION_DB_USER}:${APP_DOCUMENTATION_DB_PASSWORD}@${FRONTEND_APPS_DB_HOST}:${FRONTEND_APPS_DB_PORT}/${FRONTEND_APPS_DB_NAME}?schema=documentation
DOCUMENTATION_DATABASE_POOL_MAX=10
DOCUMENTATION_DATABASE_TIMEOUT_MS=5000
DOCUMENTATION_DATABASE_SSL=false

# Firecrawl internal Postgres (dockerized)
FIRECRAWL_POSTGRES_USER=firecrawl
FIRECRAWL_POSTGRES_PASSWORD=change_me_firecrawl_postgres
FIRECRAWL_POSTGRES_DB=postgres
FIRECRAWL_NUQ_DATABASE_URL=postgres://firecrawl:change_me_firecrawl@firecrawl-postgres:5432/postgres

# ==============================================================================
# üîß PGADMIN & DB UI TOOLS
# ==============================================================================
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=change_me_pgadmin
PGADMIN_LISTEN_PORT=5050
PGADMIN_HOST_PORT=7100
PGWEB_PORT=7102
ADMINER_PORT=7101
AZIMUTT_PORT=8084
AZIMUTT_PHX_HOST=localhost
AZIMUTT_SECRET_KEY_BASE=change_me_azimutt
AZIMUTT_FILE_STORAGE_ADAPTER=local
AZIMUTT_AUTH_PASSWORD=true

# ==============================================================================
# üê≥ QUESTDB CORE
# ==============================================================================
QUESTDB_HTTP_PORT=7010
QUESTDB_PG_PORT=8813
QUESTDB_ILP_PORT=7011
QUESTDB_MIN_PORT=9003
QUESTDB_INFLUX_PORT=7012
QUESTDB_HTTP_URL=http://localhost:7010

# ==============================================================================
# üåê BACKEND APIS (PORTS & BASE SETTINGS)
# ==============================================================================
TP_CAPITAL_PORT=4005

DOCS_API_PORT=3405

# ==============================================================================
# üî• FIRECRAWL STACK
# ==============================================================================
FIRECRAWL_PROXY_PORT=3600
FIRECRAWL_PROXY_BASE_URL=http://localhost:3002
FIRECRAWL_PROXY_TIMEOUT=30000
FIRECRAWL_PROXY_RATE_LIMIT_WINDOW_MS=60000
FIRECRAWL_PROXY_RATE_LIMIT_MAX=100
FIRECRAWL_PROXY_LOG_LEVEL=info
FIRECRAWL_PROXY_URL=http://localhost:3600
FIRECRAWL_PROXY_TEST_URL=http://localhost:3600

FIRECRAWL_PORT=3002
FIRECRAWL_INTERNAL_PORT=3002
FIRECRAWL_HOST=0.0.0.0
FIRECRAWL_BULL_AUTH_KEY=change_me_firecrawl
FIRECRAWL_USE_DB_AUTHENTICATION=false
FIRECRAWL_TEST_API_KEY=change_me_firecrawl
FIRECRAWL_EXTRACT_WORKER_PORT=3004
FIRECRAWL_WORKER_PORT=3005
FIRECRAWL_REDIS_URL=redis://firecrawl-redis:6379
FIRECRAWL_PLAYWRIGHT_URL=http://firecrawl-playwright:3000/scrape
FIRECRAWL_BLOCK_MEDIA=false
FIRECRAWL_LOGGING_LEVEL=info
FIRECRAWL_ALLOW_LOCAL_WEBHOOKS=true
FIRECRAWL_SUPABASE_URL=https://supabase.tradingsystem.local
FIRECRAWL_SUPABASE_ANON_TOKEN=change_me_firecrawl
FIRECRAWL_SUPABASE_SERVICE_TOKEN=change_me_firecrawl
FIRECRAWL_POSTHOG_API_KEY=change_me_firecrawl
FIRECRAWL_POSTHOG_HOST=https://app.posthog.com
FIRECRAWL_SERPER_API_KEY=change_me_firecrawl
FIRECRAWL_SEARCHAPI_API_KEY=change_me_firecrawl

# ==============================================================================
# üé® FRONTEND / DASHBOARD (Vite)
# ==============================================================================
VITE_USE_UNIFIED_DOMAIN=false
VITE_API_BASE_URL=http://localhost:3403
VITE_RAG_COLLECTIONS_URL=http://localhost:3403
VITE_API_URL=http://localhost:4010
VITE_WS_URL=ws://localhost:4010
VITE_QUESTDB_URL=http://localhost:9002
VITE_PROMETHEUS_URL=http://localhost:9090
VITE_ENABLE_ML_FEATURES=true
VITE_ENABLE_PROFITDLL=false
VITE_TP_CAPITAL_API_URL=http://localhost:4005
VITE_N8N_URL=http://localhost:3680/n8n
N8N_E2E_EMAIL=
N8N_E2E_PASSWORD=

# Optional dashboard overrides (dev proxy targets)
VITE_DASHBOARD_PORT=3103
VITE_WORKSPACE_PROXY_TARGET=http://localhost:3102/api
VITE_TP_CAPITAL_PROXY_TARGET=http://localhost:4005
VITE_DOCUMENTATION_PROXY_TARGET=http://localhost:3401
VITE_FIRECRAWL_PROXY_TARGET=http://localhost:3600
VITE_DOCUSAURUS_PROXY_TARGET=http://localhost:3400
VITE_MCP_PROXY_TARGET=http://localhost:3847
DOCS_BASE_URL=http://localhost:3400
VITE_PRD_BASE_URL=http://localhost:3400
VITE_USE_DOCS_V2_PRD=false

# ==============================================================================
# üîå MCP DEFAULTS (Project-scoped templates)
# ==============================================================================
MCP_FS_ROOT=.
MCP_GITHUB_REPO=marceloterra1983/TradingSystem
MCP_GITHUB_ORG=
COMPOSE_PROJECT_NAME=tradingsystem
DOCKER_HOST=
MCP_POSTGRES_URL=postgres://frontend_ro:change_me_ro@localhost:5433/trading
FRONTEND_APPS_DB_READONLY_USER=frontend_ro
FRONTEND_APPS_DB_READONLY_PASS=change_me_ro
MCP_OPENAPI_SPECS=docs/static/specs/workspace.openapi.yaml,docs/static/specs/documentation-api.openapi.yaml,docs/static/specs/tp-capital.openapi.yaml

# ==============================================================================
# üì° TELEGRAM (TP Capital)
# ==============================================================================
TELEGRAM_INGESTION_BOT_TOKEN=change_me_telegram_ingestion
TELEGRAM_FORWARDER_BOT_TOKEN=change_me_telegram_forwarder
TELEGRAM_SOURCE_CHANNEL_IDS=-1001649127710
TELEGRAM_DESTINATION_CHANNEL_ID=-1003158967612
TELEGRAM_MODE=polling
TELEGRAM_WEBHOOK_URL=
TELEGRAM_WEBHOOK_SECRET=
QUESTDB_HOST=data-questdb
QUESTDB_HTTP_PORT=9002
QUESTDB_ILP_PORT=9010
QUESTDB_USER=admin
QUESTDB_PASSWORD=change_me_questdb
PORT=3200
LOG_LEVEL=info

# ==============================================================================
# ü§ñ AI & ML TOOLS
# ==============================================================================
OPENAI_API_KEY=change_me_openai
OPENAI_MODEL=gpt-3.5-turbo
QDRANT_API_KEY=change_me_qdrant
QDRANT_HOST=localhost
QDRANT_GRPC_PORT=6334
QDRANT_HTTPS_ENABLED=false
LANGSMITH_API_KEY=change_me_langsmith
LANGSMITH_TRACING=true
LANGSMITH_PROJECT=tradingsystem-dev
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60
LOG_LEVEL=INFO
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30
MAX_CHUNK_SIZE=512
CHUNK_OVERLAP=50
EMBEDDING_MODEL=text-embedding-ada-002
CACHE_TYPE=memory
DOCS_AGENT_MODEL=llama3.1:8b
DOCS_AGENT_MAX_CONTEXT=20000
MODEL_NAME=gpt-4o-mini
MODEL_EMBEDDING_NAME=text-embedding-3-large
DOCS_CHUNK_SIZE=800
DOCS_CHUNK_OVERLAP=120
CACHE_TTL=3600

# LlamaIndex Query Service JWT (Frontend)
# Token gerado com JWT_SECRET_KEY do container (dev-secret)
# V√°lido por 1 ano para desenvolvimento
VITE_LLAMAINDEX_JWT=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiJkYXNoYm9hcmQiLCJleHAiOjE3OTMyNDU1NjR9.XbMb7jduH5DP3ErWodUZ7AWSn0l02aKGr1_BTbH1vgs

# ==============================================================================
# üìä MONITORING (Prometheus / Grafana / Alertmanager)
# ==============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change_me_grafana
SLACK_WEBHOOK_URL=change_me_slack
GITHUB_TOKEN=change_me_github
GITHUB_OWNER=marceloterra
GITHUB_REPO=TradingSystem
LOG_LEVEL_MONITORING=info

# ==============================================================================
# üîí SECURITY & CORS (GLOBAL)
# ==============================================================================
CORS_ORIGIN=http://localhost:3103,http://localhost:3400,http://localhost:3401
# Mant√©m alinhado com os containers LlamaIndex (tools/compose/docker-compose.rag.yml)
JWT_SECRET_KEY=dev-secret
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120

# ==============================================================================
# üîß DOCKER & INFRA
# ==============================================================================

# Standard images for infra stacks (override in .env.local if needed)
IMG_DATA_TIMESCALEDB=timescale/timescaledb:latest-pg16
IMG_DATA_TIMESCALEDB_BACKUP=timescale/timescaledb:latest-pg16
IMG_DATA_TIMESCALEDB_EXPORTER=prometheuscommunity/postgres-exporter:latest
IMG_DATA_TIMESCALEDB_PGADMIN=dpage/pgadmin4:latest
IMG_DATA_TIMESCALEDB_PGWEB=sosedoff/pgweb:latest
IMG_DATA_TIMESCALEDB_ADMINER=adminer:latest
IMG_DATA_TIMESCALEDB_AZIMUTT=azimutt/azimutt:latest
IMG_DATA_QDRANT=qdrant/qdrant:latest
IMG_DATA_QUESTDB=questdb/questdb:latest

# Image tags (decoupled from IMG_VERSION to avoid invalid combos)
IMG_TIMESCALE_TAG=latest-pg16
IMG_EXPORTER_TAG=latest
IMG_PGADMIN_TAG=latest
IMG_PGWEB_TAG=latest
IMG_ADMINER_TAG=latest
IMG_AZIMUTT_TAG=latest
IMG_POSTGRES_TAG=15
IMG_QDRANT_TAG=latest
IMG_QUESTDB_TAG=latest

# App images
IMG_APPS_TP_CAPITAL=img-apps-tp-capital
IMG_APPS_WORKSPACE=img-apps-workspace

# Infrastructure images
IMG_TOOLS_LLAMAINDEX_INGESTION=img-tools-llamaindex-ingestion
IMG_TOOLS_LLAMAINDEX_QUERY=img-tools-llamaindex-query

# Vectors (Hybrid search)
QDRANT_URL=http://localhost:6333
QDRANT_COLLECTION=documentation
OLLAMA_BASE_URL=http://localhost:11434
LLAMAINDEX_QUERY_URL=http://localhost:8202
LLAMAINDEX_INGESTION_URL=http://localhost:8201
COLLECTIONS_SERVICE_URL=http://localhost:3403
DOCUMENTATION_API_PORT=3401
RAG_COLLECTIONS_PORT=3403
FILE_WATCHER_ENABLED=true
FILE_WATCHER_DEBOUNCE_MS=5000
COLLECTIONS_CONFIG_PATH=/app/collections-config.json
OLLAMA_EMBEDDING_MODEL=nomic-embed-text
OLLAMA_MODEL=llama3.1

# GPU coordination defaults (serialize GPU workloads across services)
LLAMAINDEX_FORCE_GPU=true
LLAMAINDEX_GPU_NUM=1
LLAMAINDEX_GPU_MAX_CONCURRENCY=1
LLAMAINDEX_GPU_COOLDOWN_SECONDS=0
LLAMAINDEX_GPU_WAIT_LOG_THRESHOLD=0.5
LLAMAINDEX_GPU_USE_FILE_LOCK=true
LLAMAINDEX_GPU_LOCK_PATH=/tmp/llamaindex-gpu.lock
LLAMAINDEX_GPU_LOCK_POLL_SECONDS=0.25

# COMPOSE_PROJECT_NAME=tradingsystem
# DOCKER_NETWORK_SUBNET=172.20.0.0/16

# ==============================================================================
# üíæ REDIS CACHE
# ==============================================================================
REDIS_CACHE_URL=redis://localhost:6379
REDIS_CACHE_DB=0
REDIS_CACHE_PASSWORD=change_me_redis
REDIS_CACHE_SSL=false
REDIS_CACHE_TTL=3600


# Telegram Gateway API Database (dedicated TimescaleDB stack)
# For local development (outside Docker): use localhost:5434
# For Docker container: stack overrides to telegram-timescaledb:5432
TELEGRAM_GATEWAY_DB_URL=postgresql://${TELEGRAM_GATEWAY_DB_USER}:${TELEGRAM_GATEWAY_DB_PASSWORD}@${TELEGRAM_GATEWAY_DB_HOST}:${TELEGRAM_GATEWAY_DB_PORT}/${TELEGRAM_GATEWAY_DB_NAME}?schema=${TELEGRAM_GATEWAY_DB_SCHEMA:-telegram_gateway}

TELEGRAM_GATEWAY_FAILURE_QUEUE_PATH=apps/telegram-gateway/data/failure-queue.jsonl
TELEGRAM_GATEWAY_SESSION_FILE=apps/telegram-gateway/.session/telegram-gateway.session
TELEGRAM_GATEWAY_CACHE_TTL_MS=5000
TELEGRAM_GATEWAY_QUEUE_PREVIEW_LIMIT=10
TELEGRAM_GATEWAY_RECENT_MESSAGES_LIMIT=20
TELEGRAM_GATEWAY_CHANNEL_CACHE_TTL_MS=60000
TELEGRAM_GATEWAY_AUTH_LOG_LIMIT=200
GATEWAY_POLLING_INTERVAL_MS=5000
GATEWAY_BATCH_SIZE=100
VITE_TELEGRAM_GATEWAY_API_URL=http://localhost:4010

# ==============================================================================
# ‚öôÔ∏è KESTRA ORCHESTRATOR (Optional)
# ==============================================================================
KESTRA_HTTP_PORT=8180
KESTRA_MANAGEMENT_PORT=8181
KESTRA_DB_HOST=kestra-postgres
KESTRA_DB_PORT=5432
KESTRA_DB_NAME=kestra
KESTRA_DB_USER=kestra
KESTRA_DB_PASSWORD=change_me_kestra_db
KESTRA_BASICAUTH_USERNAME=admin@tradingsystem.local
KESTRA_BASICAUTH_PASSWORD=change_me_kestra_admin
KESTRA_WORKDIR_DIR=./tools/kestra/workdir
KESTRA_STORAGE_DIR=./tools/kestra/storage

# ==============================================================================
# ‚òÅÔ∏è NEON WORKSPACE (Optional)
# ==============================================================================
NEON_HOST=localhost
NEON_PORT=5433
NEON_DATABASE=workspace
NEON_USER=postgres
NEON_PASSWORD=change_me_neon
NEON_SCHEMA=workspace
NEON_POOL_MAX=20
NEON_POOL_MIN=2
NEON_IDLE_TIMEOUT=30000
NEON_CONNECTION_TIMEOUT=5000
NEON_STATEMENT_TIMEOUT=30000
NEON_QUERY_TIMEOUT=30000
NEON_SSL=false

# ==============================================================================
# üéì COURSE CRAWLER STACK
# ==============================================================================
# Dedicated stack for course scraping with credentials management
# Stack: course-crawler-db (PostgreSQL), course-crawler-api, course-crawler-worker, course-crawler-ui

# Database (PostgreSQL 15)
COURSE_CRAWLER_DB_HOST=localhost
COURSE_CRAWLER_DB_PORT=55433
COURSE_CRAWLER_DB_NAME=coursecrawler
COURSE_CRAWLER_DB_USER=postgres
COURSE_CRAWLER_DB_PASSWORD=coursecrawler

# API Service (Node.js + Express)
COURSE_CRAWLER_API_PORT=3601
COURSE_CRAWLER_DATABASE_URL=postgresql://${COURSE_CRAWLER_DB_USER}:${COURSE_CRAWLER_DB_PASSWORD}@${COURSE_CRAWLER_DB_HOST}:${COURSE_CRAWLER_DB_PORT}/${COURSE_CRAWLER_DB_NAME}

# CLI Database (Neon-based schema for TypeScript CLI)
COURSE_CRAWLER_NEON_DATABASE_URL=postgresql://${COURSE_CRAWLER_DB_USER}:${COURSE_CRAWLER_DB_PASSWORD}@${COURSE_CRAWLER_DB_HOST}:${COURSE_CRAWLER_DB_PORT}/coursecrawler_cli

# Security
COURSE_CRAWLER_ENCRYPTION_KEY=change-me-please-32-bytes-minimum

# Output paths
COURSE_CRAWLER_OUTPUT_BASE=/app/outputs
COURSE_CRAWLER_CLI_PATH=/workspace/apps/course-crawler/dist/index.js

# Worker configuration
COURSE_CRAWLER_BROWSER_USE_ENABLED=false
COURSE_CRAWLER_MAX_CLASSES_PER_MODULE=

# Frontend UI (React + Vite ‚Üí NGINX)
COURSE_CRAWLER_APP_PORT=4201
VITE_COURSE_CRAWLER_API_URL=http://localhost:3601
VITE_COURSE_CRAWLER_APP_URL=http://localhost:4201

# ==============================================================================
# üîê SECURITY NOTES (informativo)
# ==============================================================================
#   openssl rand -base64 32  -> senhas fortes
#   openssl rand -hex 32      -> JWT
#   openssl rand -hex 16      -> API keys
# Altere todas as credenciais padr√£o antes de produ√ß√£o.

# Container image repositories live in config/container-images.env
# and are sourced by the stack scripts. Override IMG_VERSION or
# individual IMG_* variables in .env.local when needed.
