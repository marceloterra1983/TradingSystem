# TradingSystem - Auto-activation with direnv
# https://direnv.net/
#
# This file automatically activates the Python virtual environment
# when you cd into the project directory.
#
# Setup (one-time):
#   bash scripts/setup/setup-direnv.sh

# Load VS Code/Cursor Shell Integration
if [ -n "$VSCODE_SHELL_INTEGRATION" ] && [ -f "$VSCODE_SHELL_INTEGRATION" ]; then
    source "$VSCODE_SHELL_INTEGRATION"
fi

# Activate Python virtual environment
if [ -f "venv/bin/activate" ]; then
    # Suppress Python deprecation warnings from direnv
    export PYTHONWARNINGS="ignore::DeprecationWarning"
    
    # Use direnv's built-in venv support (recommended)
    layout python python3
    
    # Alternative: Manual activation (uncomment if needed)
    # source venv/bin/activate
fi

# Load project-specific environment variables
# Note: direnv automatically loads .env files
# No need to manually source them

# Add project's bin directory to PATH (for universal commands)
PATH_add .bin

# Optional: Set project-specific aliases or functions
# export PROJECT_ROOT="$PWD"
# alias start="npm run start"

