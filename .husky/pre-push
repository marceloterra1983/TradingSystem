#!/usr/bin/env bash

set -euo pipefail

# shellcheck source=/dev/null
. "$(dirname "$0")/_/husky.sh"

if [ "${SKIP_DOCS_HOOKS:-0}" = "1" ]; then
  echo "⚠️  Skipping docs check (SKIP_DOCS_HOOKS=1)"
  exit 0
fi

echo "🛠  docs_v2 check pipeline"
# docs:check pipeline: auto → validate → lint → typecheck → test → build
npm --prefix docs_v2 run docs:check

echo "✅ Pre-push validation passed"
