---
title: Ports & Services Matrix
description: Mapping of service names to ports and protocols.
tags:
  - tools
  - networking
owner: ToolingGuild
lastReviewed: '2025-10-26'
---

<!-- AUTO-GENERATED SECTIONS by docs:auto - DO NOT EDIT MANUALLY -->
<!-- AUTO-GENERATED SECTIONS by docs:auto - DO NOT EDIT MANUALLY -->
<!-- AUTO-GENERATED SECTIONS by docs:auto - DO NOT EDIT MANUALLY -->
<!-- Last generated: 2025-10-28T21:53:57.851Z -->
<!-- Source: docs/context/ops/service-port-map.md -->

## Overview

Each TradingSystem service exposes its own port following the removal of Traefik. Use this reference
when launching stacks with `start-all-services.sh` or `start-all-stacks.sh`. Tables below are
auto-generated from `docs/context/ops/service-port-map.md` (legacy source - migration pending) via `npm run docs:auto`.

> üìå **docs √© a fonte prim√°ria de documenta√ß√£o.** A tabela ainda segue o mapeamento legado at√© que `docs_legacy/context/ops/service-port-map.md` seja totalmente migrado; as notas abaixo destacam as diferen√ßas (`docs` em 3205, Docusaurus legado em 3004).

## Application Services

<!-- BEGIN AUTO-GENERATED: Application Services -->

| Service | Container | Port | URL | Description |
|---------|-----------|------|-----|-------------|
| Dashboard | - (npm dev server) | 3103 | http://localhost:3103 | Interface principal do TradingSystem |
| Documentation API | - (npm dev server) | 3400 | http://localhost:3400 | API de documenta√ß√£o (Express + FlexSearch) |
| Documentation Hub (docs) | - (npm dev server) | 3205 | http://localhost:3205 | Hub de documenta√ß√£o (Docusaurus v3 ‚Äî prim√°rio) |
| Documenta√ß√£o (Docusaurus v2 - Legacy) | docs-docusaurus | 3004 | http://localhost:3004 | Hub de documenta√ß√£o legado (desativa√ß√£o em andamento) |
| API Viewer | docs-api-viewer | 3101 | http://localhost:3101 | Visualiza√ß√£o de OpenAPI/AsyncAPI |
| Library API | - (npm dev server) | 3100 | http://localhost:3100 | Workspace/ideias |
| TP Capital | - (npm dev server) | 3200 | http://localhost:3200 | Ingest√£o de sinais Telegram |
| Firecrawl Proxy | - (npm dev server) | 3600 | http://localhost:3600 | Proxy Express para Firecrawl |
| Firecrawl API | firecrawl-api | 3002 | http://localhost:3002 | Upstream Firecrawl auto-hospedado |
| LangGraph | infra-langgraph | 8111 | http://localhost:8111 | Orquestra√ß√£o de agentes LangGraph |
| LangGraph Dev | infra-langgraph-dev | 8112 | http://localhost:8112 | Ambiente de desenvolvimento LangGraph |

<!-- END AUTO-GENERATED: Application Services -->

- Services marked as npm dev servers run locally outside Docker.  
- Container names follow naming conventions listed below.

## Data & Monitoring Services

<!-- BEGIN AUTO-GENERATED: Data & Monitoring Services -->

| Service | Container | Port | URL | Description |
|---------|-----------|------|-----|-------------|
| QuestDB | data-questdb | 9002 | http://localhost:9002 | Telemetria de workflows (QuestDB 8.2.1) |
| TimescaleDB | data-timescaledb | 5433 | localhost:5433 | Banco TimescaleDB (host ‚Üí container 5432) |
| TimescaleDB Exporter | data-timescaledb-exporter | 9187 | http://localhost:9187 | M√©tricas Prometheus |
| TimescaleDB pgAdmin | data-timescaledb-pgadmin | 5050 | http://localhost:5050 | Administra√ß√£o PostgreSQL |
| TimescaleDB pgWeb | data-timescaledb-pgweb | 8081 | http://localhost:8081 | Cliente web leve |
| Prometheus | mon-prometheus | 9090 | http://localhost:9090 | Console de m√©tricas |
| Alertmanager | mon-alertmanager | 9093 | http://localhost:9093 | Pipeline de alertas |
| Grafana | mon-grafana | 3000 | http://localhost:3000 | Dashboards pr√©-provisionados |
| Qdrant | data-qdrant | 6333 | http://localhost:6333 | Vetor DB para embeddings |
| Infra PostgreSQL | data-postgress-langgraph | 5432 | postgres://localhost:5432 | Checkpoints LangGraph |
| Infra Redis Dev | infra-redis-dev | 6380 | redis://localhost:6380 | Cache para LangGraph dev |

<!-- END AUTO-GENERATED: Data & Monitoring Services -->

- Admin UIs bind to localhost for security.  
- Prometheus scrapes each service exposing `/metrics`.
- QuestDB PostgreSQL wire protocol (8812) remains disabled/not exposed in the local stacks per the service port map.

## Complete Port Reference

### Frontend & UI (3000‚Äì3999)

| Port | Service | Type | Status |
|------|---------|------|--------|
| 3000 | Grafana | Monitoring UI | Active |
| 3002 | Firecrawl API | Web scraping | Active |
| 3004 | Documenta√ß√£o (Docusaurus v2 - Legacy) | Documentation | Legacy |
| 3100 | Workspace API | Backend API | Active |
| 3101 | API Viewer | OpenAPI viewer | Active |
| 3103 | Dashboard | Frontend UI | Active |
| 3200 | TP Capital API | Backend API | Active |
| 3205 | Documentation Hub (docs) | Documentation | Active |
| 3400 | Documentation API | Backend API | Active |
| 3500 | Service Launcher | Orchestration | Active |
| 3600 | Firecrawl Proxy | Proxy | Active |

### Databases (5000‚Äì5999)

| Port | Service | Type | Status |
|------|---------|------|--------|
| 5050 | PgAdmin | Admin UI | Active |
| 5432 | PostgreSQL (LangGraph) | Database | Active |
| 5433 | TimescaleDB | Database | Active |

### Caching & Queues (6000‚Äì6999)

| Port | Service | Type | Status |
|------|---------|------|--------|
| 6333 | Qdrant | Vector DB | Active |
| 6380 | Redis Dev | Cache | Active |

### AI & ML (8000‚Äì8999)

| Port | Service | Type | Status |
|------|---------|------|--------|
| 8081 | pgWeb | Database UI | Active |
| 8111 | LangGraph | AI orchestration | Active |
| 8112 | LangGraph Dev | AI orchestration | Active |

### Monitoring & Metrics (9000‚Äì9999)

| Port | Service | Type | Status |
|------|---------|------|--------|
| 9002 | QuestDB HTTP/UI | Database UI | Active |
| 9009 | QuestDB ILP | Ingestion protocol | Active |
| 9090 | Prometheus | Metrics | Active |
| 9093 | Alertmanager | Alerting | Active |
| 9187 | TimescaleDB Exporter | Metrics exporter | Active |

## Container Naming Conventions

- `data-*` ‚Äì Databases and storage services.  
- `infra-*` ‚Äì Supporting infrastructure (LangGraph, Redis).  
- `mon-*` ‚Äì Monitoring components.  
- `docs-*` ‚Äì Documentation stack.  
- `firecrawl-*` ‚Äì Firecrawl services.  
- `individual-*` ‚Äì Legacy standalone services (deprecated).

- Rationalized naming improves service discovery, logging, and compose orchestration.

## Service Dependencies

**Startup Order**:

1. Databases: TimescaleDB, QuestDB, PostgreSQL, Redis.  
2. Monitoring: Prometheus, Grafana, Alertmanager.  
3. Backend APIs: Workspace, TP Capital, Documentation.  
4. Frontend: Dashboard, Docusaurus.  
5. AI/ML: LangGraph, Firecrawl.

**Scripts**:

- `scripts/startup/start-all.sh`.  
- `scripts/startup/start-databases.sh`.  
- `scripts/startup/start-monitoring.sh`.  
- `scripts/startup/start-apis.sh`.

**Dependency Graph**:

```
Dashboard (3103)
  ‚îú‚îÄ> Workspace API (3100)
  ‚îú‚îÄ> TP Capital API (3200)
  ‚îú‚îÄ> Documentation API (3400)
  ‚îî‚îÄ> QuestDB (9002)

Workspace API (3100)
  ‚îî‚îÄ> TimescaleDB (5433)

TP Capital API (3200)
  ‚îî‚îÄ> QuestDB (9002)

Documentation API (3400)
  ‚îî‚îÄ> TimescaleDB (5433)

LangGraph (8111)
  ‚îú‚îÄ> PostgreSQL (5432)
  ‚îú‚îÄ> Redis (6380)
  ‚îî‚îÄ> Qdrant (6333)

Prometheus (9090)
  ‚îú‚îÄ> TimescaleDB Exporter (9187)
  ‚îî‚îÄ> Service metrics endpoints

Grafana (3000)
  ‚îî‚îÄ> Prometheus (9090)
```

## Health Checks

| Service | Endpoint | Expected |
|---------|----------|----------|
| Dashboard | `http://localhost:3103` | Page loads |
| Workspace API | `http://localhost:3100/health> | `{"status": "ok"}` |
| TP Capital API | `http://localhost:3200/health> | `{"status": "ok"}` |
| Documentation API | `http://localhost:3400/health> | `{"status": "ok"}` |
| Documentation Hub (docs) | `http://localhost:3205` | Page loads |
| Docusaurus v2 (Legacy) | `http://localhost:3004` | Page loads (legacy ‚Äì requires manual override) |
| TimescaleDB | `psql -h localhost -p 5433 -U timescale -c "SELECT 1;"` | `1` |
| QuestDB | `http://localhost:9002` | Web UI loads |
| Prometheus | `http://localhost:9090/-/healthy> | `Prometheus is Healthy.` |
| Grafana | `http://localhost:3000/api/health> | `{"database":"ok"}` |

Health script example:

```bash
# scripts/health-check-all.sh
curl -f http://localhost:3103 > /dev/null 2>&1 && echo "‚úÖ Dashboard" || echo "‚ùå Dashboard"
curl -f http://localhost:3100/health > /dev/null 2>&1 && echo "‚úÖ Workspace API" || echo "‚ùå Workspace API"
curl -f http://localhost:3200/health > /dev/null 2>&1 && echo "‚úÖ TP Capital API" || echo "‚ùå TP Capital API"
curl -f http://localhost:3200/health > /dev/null 2>&1 && echo "‚úÖ TP Capital API" || echo "‚ùå TP Capital API"
curl -f http://localhost:3400/health > /dev/null 2>&1 && echo "‚úÖ Documentation API" || echo "‚ùå Documentation API"
curl -f http://localhost:3205 > /dev/null 2>&1 && echo "‚úÖ Documentation Hub (docs)" || echo "‚ùå Documentation Hub (docs)"
curl -f http://localhost:3004 > /dev/null 2>&1 && echo "‚úÖ Docusaurus (legacy override)" || echo "‚ùå Docusaurus (legacy override)"
curl -f http://localhost:9002 > /dev/null 2>&1 && echo "‚úÖ QuestDB" || echo "‚ùå QuestDB"
curl -f http://localhost:9090/-/healthy > /dev/null 2>&1 && echo "‚úÖ Prometheus" || echo "‚ùå Prometheus"
curl -f http://localhost:3000/api/health > /dev/null 2>&1 && echo "‚úÖ Grafana" || echo "‚ùå Grafana"
```

## Troubleshooting

### Port Conflicts

```bash
lsof -i :3103
kill -9 <PID>
# or update port in .env (e.g., VITE_DASHBOARD_PORT=3104)
```

### Service Not Accessible

1. Verify listener (`netstat -tuln | grep <port>`).  
2. Check firewall (`sudo ufw status`).  
3. Confirm Docker port mapping (`docker ps | grep <container>`).  
4. Probe with curl (`curl -v http://localhost:<port>`).

### Container Startup Failures

```bash
docker logs <container-name>
docker compose -f <compose-file> logs <service>
docker compose -f <compose-file> restart <service>
```

## External Access

Use a reverse proxy (Nginx, Caddy) for external exposure. Traefik has been removed.

Example Nginx config:

```nginx
server {
    listen 80;
    server_name tradingsystem.local;

    location /dashboard {
        proxy_pass http://localhost:3103;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /docs {
        proxy_pass http://localhost:3205;
        proxy_set_header Host $host;
    }

    location /api/workspace {
    proxy_pass http://localhost:3100;
        proxy_set_header Host $host;
    }

    location /api/tp-capital {
        proxy_pass http://localhost:3200;
        proxy_set_header Host $host;
    }
}
```

Enable:

```bash
sudo ln -s /etc/nginx/sites-available/tradingsystem /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl reload nginx
```

Add to `/etc/hosts`:

```
127.0.0.1 tradingsystem.local
```

Access dashboard: `http://tradingsystem.local/dashboard`.

## Related Documentation

- Service startup guide (migration pending).  
- Container naming convention (migration pending).  
- Nginx reverse proxy setup (migration pending).  
- Docker Compose stacks (migration pending).  
- Health monitoring (migration pending).

## References

- `docker-compose.simple.yml`, `start-all-stacks.sh`, `start-all-services.sh`.  
- Container naming guidelines forthcoming under infrastructure docs.
