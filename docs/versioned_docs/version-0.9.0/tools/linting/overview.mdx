---
title: Linting Overview
description: Code quality and linting standards for TradingSystem.
tags:
  - tools
  - linting
  - quality
owner: ToolingGuild
lastReviewed: '2025-10-26'
---
## Overview

TradingSystem relies on multiple linting tools to enforce consistency and catch defects across languages and artefacts.

- **ESLint** — JavaScript and TypeScript linting (frontend and Node.js services).
- **Prettier** — Formatting for JavaScript, TypeScript, JSON, and Markdown.
- **markdownlint** — Documentation linting.
- **commitlint** — Enforces Conventional Commit messages.
- **Husky** — Git hooks orchestrating local checks.
- **Ruff** — Python linting.
- **Black** — Python formatting.

## ESLint Configuration

- **Configs**: Root `eslint.config.js` with optional workspace overrides.
- **Commands**:

  ```bash
  npm run lint        # Run ESLint across workspaces
  npm run lint:fix    # Apply auto-fixes
  npm run lint -- frontend/dashboard/src
  ```

- **Pre-commit Hook**: Husky runs ESLint on staged frontend files; commits fail on unresolved errors. Bypass only with `git commit --no-verify` in emergencies.
- **Rules**: Recommended ESLint, TypeScript-specific checks, React hooks enforcement, import ordering, no unused variables, consistent returns.
- **Overrides**: Avoid disabling rules; when exceptions are necessary, document rationale in the PR.

## Prettier Configuration

- **Config File**: `.prettierrc` at the repository root.
- **Commands**:

  ```bash
  npm run format         # Format code with Prettier
  npm run format:check   # CI formatting verification
  ```

- **Settings**: 100-character print width, two-space indentation, single quotes, `es5` trailing commas, required semicolons, arrow function parentheses always present.
- **Workflow**: ESLint integrates with Prettier; hooks run Prettier after ESLint. Enable format-on-save in IDEs.

## Markdown Linting

- **Tool**: `markdownlint`.
- **Config**: `.markdownlint.json`.
- **Commands**:

  ```bash
  npm run lint:md        # Lint markdown files
  npm run lint:md:fix    # Auto-fix supported issues
  ```

- **Rules**: ATX headings, no trailing spaces, blank lines around headings, consistent list markers, no bare URLs, defined link references. Inline HTML and long lines inside code blocks are permitted.

## Commit Message Linting

- **Tooling**: `@commitlint/cli` enforced through Husky.
- **Config**: `.commitlintrc.js`.
- **Format**:

  ```
  <type>(<scope>): <subject>

  <body>

  <footer>
  ```

- **Common Types**: `feat`, `fix`, `docs`, `style`, `refactor`, `test`, `chore`.
- **Examples**:

  ```
  feat(frontend): add order confirmation dialog
  fix(api): resolve race condition in order placement
  docs(tools): update linting guide
  ```

- **Hook**: Runs on commit; bypass only with `git commit --no-verify` if absolutely required.

## Python Linting

- **Tools**: Ruff (lint) and Black (format).
- **Commands**:

  ```bash
  poetry run ruff check .
  poetry run ruff check --fix .
  poetry run black .
  poetry run black --check .
  ```

- **Configuration**: Defined in each `pyproject.toml`; Ruff extends Flake8, isort, and pyupgrade rules. Black enforces a 100-character line length.

## CI Integration

- **GitHub Actions** (`.github/workflows/lint.yml`):

  ```yaml
  jobs:
    lint:
      runs-on: ubuntu-latest
      steps:
        - uses: actions/checkout@v3
        - uses: actions/setup-node@v3
        - run: npm install
        - run: npm run lint
        - run: npm run format:check
        - run: npm run lint:md
  ```

- **Husky Hooks**: ESLint, Prettier, frontmatter validation, and commitlint run locally before pushes land in CI.
- **Policy**: All linting must pass before merge; do not bypass CI checks.

## Best Practices

1. Run linting before opening pull requests.
2. Prefer fixing code to disabling lint rules.
3. Document any overrides in the PR description.
4. Re-run `npm run docs:auto` after generating docs to keep outputs lint clean.
5. Enable ESLint and Prettier integrations in your IDE.
6. Use format-on-save to reduce diffs.

## Troubleshooting

- **Stale eslint cache**:

  ```bash
  rm -rf node_modules/.cache/eslint
  npm run lint
  ```

- **ESLint/Prettier conflicts**: Confirm `eslint-config-prettier` is installed and hooks run Prettier last.
- **Hooks missing**:

  ```bash
  npm run prepare
  ```

- **Emergency bypass**:

  ```bash
  git commit --no-verify -m "Emergency fix"
  git push --no-verify
  ```

## Related Documentation

- [Frontend Lint & Format](../../frontend/engineering/lint-format)
- Commit guidelines (migration pending)
- CI/CD pipeline guide (migration pending)
