---
title: "Plano de Implementa√ß√£o: Centraliza√ß√£o de Vari√°veis de Ambiente"
sidebar_position: 20
tags: [infrastructure, environment, configuration, docker, devops]
domain: ops
type: guide
summary: Plano completo para centralizar todas as vari√°veis de ambiente do projeto em um √∫nico arquivo .env na raiz
status: active
last_review: 2025-10-17
---

# Plano de Implementa√ß√£o: Centraliza√ß√£o de Vari√°veis de Ambiente

## üìã Objetivo

Centralizar **todas** as vari√°veis de ambiente de aplica√ß√µes, servi√ßos, containers e infraestrutura em um **√∫nico arquivo `.env`** na raiz do projeto, organizado por se√ß√µes para facilitar visualiza√ß√£o e manuten√ß√£o.

## üéØ Benef√≠cios

1. **Configura√ß√£o √önica**: Um arquivo para todas as configura√ß√µes
2. **Visibilidade Total**: Todas as vari√°veis em um s√≥ lugar
3. **Facilidade de Deploy**: Copiar um arquivo vs m√∫ltiplos
4. **Menos Erros**: Reduz chance de esquecer configura√ß√µes
5. **Versionamento Claro**: `.env.example` como template √∫nico
6. **Onboarding R√°pido**: Novos desenvolvedores configuram tudo de uma vez

## üìä Estado Atual

### Arquivos .env Identificados

| Arquivo | Localiza√ß√£o | Servi√ßos | Status |
|---------|-------------|----------|--------|
| `.env.timescaledb` | `infrastructure/compose/` | TimescaleDB, PgAdmin, Backup, Exporter | ‚ö†Ô∏è M√∫ltiplas refer√™ncias |
| `.env.ai-tools` | `infrastructure/compose/` | LlamaIndex, Qdrant | ‚ö†Ô∏è M√∫ltiplas refer√™ncias |
| `.env` (monitoring) | `infrastructure/monitoring/` | Prometheus, Grafana, Alertmanager | ‚ùå N√£o existe ainda |
| `.env` (APIs) | `backend/api/*/` | Idea Bank, TP Capital, B3, Documentation, Laucher | ‚ùå Diversos arquivos |
| `.env` (frontend) | `frontend/apps/dashboard/` | Dashboard React | ‚ùå N√£o existe ainda |

### Vari√°veis Mapeadas por Categoria

#### üóÑÔ∏è **TimescaleDB & Database**
```bash
TIMESCALEDB_DB=tradingsystem
TIMESCALEDB_USER=timescale
TIMESCALEDB_PASSWORD=
TIMESCALEDB_PORT=5433
TIMESCALEDB_BACKUP_CRON=0 2 * * *
TIMESCALEDB_EXPORTER_PORT=9187
```

#### üîß **PgAdmin**
```bash
PGADMIN_DEFAULT_EMAIL=
PGADMIN_DEFAULT_PASSWORD=
PGADMIN_LISTEN_PORT=5050
PGADMIN_HOST_PORT=5050
```

#### ü§ñ **AI & ML Tools**
```bash
OPENAI_API_KEY=
QDRANT_API_KEY=
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60
LOG_LEVEL=INFO
LANGGRAPH_ENV=production
```

#### üìä **Monitoring**
```bash
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=
SLACK_WEBHOOK_URL=
GITHUB_TOKEN=
GITHUB_OWNER=marceloterra
GITHUB_REPO=TradingSystem
```

#### üåê **Backend APIs**
```bash
# Idea Bank API
WORKSPACE_PORT=3100
WORKSPACE_LEGACY_DB_PATH=./data/ideas.json

# TP-Capital
TP_CAPITAL_PORT=3200
TELEGRAM_BOT_TOKEN=
TELEGRAM_CHAT_ID=

# B3
B3_API_PORT=3302
QUESTDB_HTTP_URL=http://localhost:9000
QUESTDB_HTTP_TIMEOUT=10000

# Documentation API
DOCS_API_PORT=3400

# Laucher
SERVICE_LAUNCHER_PORT=3500
```

#### üé® **Frontend**
```bash
VITE_API_URL=http://localhost:4010
VITE_WS_URL=ws://localhost:4010
VITE_QUESTDB_URL=http://localhost:9000
VITE_PROMETHEUS_URL=http://localhost:9090
```

#### üîí **Security & CORS**
```bash
CORS_ORIGIN=http://localhost:3103,http://localhost:3004
JWT_SECRET_KEY=
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120
```

## üèóÔ∏è Arquitetura da Solu√ß√£o

### Estrutura do .env Centralizado

```
TradingSystem/
‚îú‚îÄ‚îÄ .env                          # ‚≠ê √öNICO arquivo de configura√ß√£o
‚îú‚îÄ‚îÄ .env.example                  # Template com valores padr√£o/placeholders
‚îú‚îÄ‚îÄ scripts/
‚îÇ   ‚îî‚îÄ‚îÄ env/
‚îÇ       ‚îú‚îÄ‚îÄ validate-env.sh      # Valida vari√°veis obrigat√≥rias
‚îÇ       ‚îú‚îÄ‚îÄ setup-env.sh         # Setup inicial interativo
‚îÇ       ‚îî‚îÄ‚îÄ sync-env.sh          # Sincroniza para desenvolvimento
‚îî‚îÄ‚îÄ infrastructure/compose/
    ‚îú‚îÄ‚îÄ docker-compose.*.yml     # Referenciam ../.env (raiz)
    ‚îî‚îÄ‚îÄ ...
```

### Refer√™ncia nos Docker Compose

Todos os `docker-compose.yml` referenciam o **mesmo** arquivo:

```yaml
services:
  timescaledb:
    env_file:
      - ../../.env  # Sempre aponta para raiz
    environment:
      POSTGRES_DB: ${TIMESCALEDB_DB}
      POSTGRES_USER: ${TIMESCALEDB_USER}
      POSTGRES_PASSWORD: ${TIMESCALEDB_PASSWORD}
```

## üìù Plano de Implementa√ß√£o

### Fase 1: Prepara√ß√£o (Dia 1)

#### 1.1 Criar Template `.env.example`

```bash
# TradingSystem - Centralized Environment Configuration
# Copy this file to .env and configure with your values
# SECURITY: Never commit .env with real credentials!

# ==============================================================================
# üóÑÔ∏è TIMESCALEDB & DATABASE
# ==============================================================================
TIMESCALEDB_DB=tradingsystem
TIMESCALEDB_USER=timescale
TIMESCALEDB_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
TIMESCALEDB_PORT=5433
TIMESCALEDB_BACKUP_CRON=0 2 * * *
TIMESCALEDB_EXPORTER_PORT=9187

# ==============================================================================
# üîß PGADMIN
# ==============================================================================
PGADMIN_DEFAULT_EMAIL=admin@yourdomain.com
PGADMIN_DEFAULT_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE
PGADMIN_LISTEN_PORT=5050
PGADMIN_HOST_PORT=5050

# ==============================================================================
# ü§ñ AI & ML TOOLS
# ==============================================================================
# OpenAI API Key (REQUIRED for LlamaIndex)
OPENAI_API_KEY=sk-your-openai-api-key-here

# Qdrant (optional for production security)
QDRANT_API_KEY=

# Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_PERIOD=60

# Logging
LOG_LEVEL=INFO

# LangGraph Environment (production|development)
LANGGRAPH_ENV=production

# ==============================================================================
# üìä MONITORING
# ==============================================================================
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=CHANGE_ME_STRONG_PASSWORD_HERE

# Alerting Integrations
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
GITHUB_TOKEN=ghp_your_github_personal_access_token
GITHUB_OWNER=marceloterra
GITHUB_REPO=TradingSystem

# ==============================================================================
# üåê BACKEND APIs
# ==============================================================================

# --- Idea Bank API ---
WORKSPACE_PORT=3100
WORKSPACE_LEGACY_DB_PATH=./backend/data/runtime/ideas.json

# --- TP-Capital ---
TP_CAPITAL_PORT=3200
TELEGRAM_BOT_TOKEN=your-telegram-bot-token
TELEGRAM_CHAT_ID=your-telegram-chat-id

# --- B3 ---
B3_API_PORT=3302
QUESTDB_HTTP_URL=http://localhost:9000
QUESTDB_HTTP_TIMEOUT=10000

# --- Documentation API ---
DOCS_API_PORT=3400

# --- Laucher ---
SERVICE_LAUNCHER_PORT=3500

# ==============================================================================
# üé® FRONTEND
# ==============================================================================
VITE_API_URL=http://localhost:4010
VITE_WS_URL=ws://localhost:4010
VITE_QUESTDB_URL=http://localhost:9000
VITE_PROMETHEUS_URL=http://localhost:9090

# ==============================================================================
# üîí SECURITY & CORS
# ==============================================================================
CORS_ORIGIN=http://localhost:3103,http://localhost:3004
JWT_SECRET_KEY=CHANGE_ME_GENERATE_WITH_openssl_rand_-hex_32
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX=120

# ==============================================================================
# üîê SECURITY NOTES
# ==============================================================================
# 1. Generate strong passwords: openssl rand -base64 32
# 2. Generate JWT secrets: openssl rand -hex 32
# 3. Never commit .env file (already in .gitignore)
# 4. Rotate secrets regularly in production
# 5. Use Docker secrets or Vault for production deployments
```

#### 1.2 Criar Script de Valida√ß√£o

**`scripts/env/validate-env.sh`**:

```bash
#!/bin/bash
# Validate required environment variables

set -e

ENV_FILE=".env"
REQUIRED_VARS=(
    "TIMESCALEDB_PASSWORD"
    "PGADMIN_DEFAULT_PASSWORD"
    "OPENAI_API_KEY"
    "GRAFANA_ADMIN_PASSWORD"
    "JWT_SECRET_KEY"
)

echo "üîç Validating environment variables..."

if [ ! -f "$ENV_FILE" ]; then
    echo "‚ùå ERROR: .env file not found!"
    echo "üìù Copy .env.example to .env and configure it:"
    echo "   cp .env.example .env"
    exit 1
fi

# Source the .env file
export $(grep -v '^#' .env | xargs)

MISSING_VARS=()

for var in "${REQUIRED_VARS[@]}"; do
    if [ -z "${!var}" ] || [ "${!var}" == "CHANGE_ME"* ]; then
        MISSING_VARS+=("$var")
    fi
done

if [ ${#MISSING_VARS[@]} -eq 0 ]; then
    echo "‚úÖ All required variables are set!"
    exit 0
else
    echo "‚ùå ERROR: Missing or invalid required variables:"
    for var in "${MISSING_VARS[@]}"; do
        echo "   - $var"
    done
    echo ""
    echo "üìù Configure these variables in .env file"
    exit 1
fi
```

#### 1.3 Criar Script de Setup Interativo

**`scripts/env/setup-env.sh`**:

```bash
#!/bin/bash
# Interactive environment setup

set -e

echo "üöÄ TradingSystem - Environment Setup"
echo "===================================="
echo ""

if [ -f ".env" ]; then
    read -p "‚ö†Ô∏è  .env already exists. Overwrite? (y/N): " -n 1 -r
    echo
    if [[ ! $REPLY =~ ^[Yy]$ ]]; then
        echo "Aborted."
        exit 0
    fi
fi

# Copy template
cp .env.example .env
echo "‚úÖ Created .env from template"

# Generate secure passwords
echo ""
echo "üîê Generating secure passwords..."

TIMESCALEDB_PASS=$(openssl rand -base64 32)
PGADMIN_PASS=$(openssl rand -base64 32)
GRAFANA_PASS=$(openssl rand -base64 32)
JWT_SECRET=$(openssl rand -hex 32)

# Replace placeholders
sed -i "s/TIMESCALEDB_PASSWORD=.*/TIMESCALEDB_PASSWORD=$TIMESCALEDB_PASS/" .env
sed -i "s/PGADMIN_DEFAULT_PASSWORD=.*/PGADMIN_DEFAULT_PASSWORD=$PGADMIN_PASS/" .env
sed -i "s/GRAFANA_ADMIN_PASSWORD=.*/GRAFANA_ADMIN_PASSWORD=$GRAFANA_PASS/" .env
sed -i "s/JWT_SECRET_KEY=.*/JWT_SECRET_KEY=$JWT_SECRET/" .env

echo "‚úÖ Generated and set secure passwords"

# Prompt for OpenAI API key
echo ""
read -p "ü§ñ Enter your OpenAI API key (or press Enter to skip): " OPENAI_KEY
if [ -n "$OPENAI_KEY" ]; then
    sed -i "s/OPENAI_API_KEY=.*/OPENAI_API_KEY=$OPENAI_KEY/" .env
    echo "‚úÖ OpenAI API key configured"
fi

# Prompt for email
echo ""
read -p "üìß Enter admin email for PgAdmin: " ADMIN_EMAIL
if [ -n "$ADMIN_EMAIL" ]; then
    sed -i "s/PGADMIN_DEFAULT_EMAIL=.*/PGADMIN_DEFAULT_EMAIL=$ADMIN_EMAIL/" .env
    echo "‚úÖ Admin email configured"
fi

echo ""
echo "üéâ Environment setup complete!"
echo ""
echo "üìã Generated Credentials:"
echo "========================"
echo "TimescaleDB Password: $TIMESCALEDB_PASS"
echo "PgAdmin Password:     $PGADMIN_PASS"
echo "Grafana Password:     $GRAFANA_PASS"
echo ""
echo "‚ö†Ô∏è  SAVE THESE CREDENTIALS IN A SECURE LOCATION!"
echo ""
echo "üìù Next steps:"
echo "1. Review and customize .env file"
echo "2. Run: bash scripts/env/validate-env.sh"
echo "3. Start services: bash scripts/docker/start-stacks.sh"
```

### Fase 2: Atualiza√ß√£o dos Compose Files (Dia 1-2)

#### 2.1 Atualizar docker-compose.timescale.yml

```yaml
version: '3.8'

services:
  timescaledb:
    container_name: data-timescaledb
    image: timescale/timescaledb:2.15.2-pg15
    restart: unless-stopped
    # CHANGE: Reference root .env instead of local file
    env_file:
      - ../../.env
    environment:
      POSTGRES_DB: ${TIMESCALEDB_DB}
      POSTGRES_USER: ${TIMESCALEDB_USER}
      POSTGRES_PASSWORD: ${TIMESCALEDB_PASSWORD}
      TIMESCALEDB_TELEMETRY: 'off'
    # ... resto da configura√ß√£o
```

#### 2.2 Atualizar docker-compose.infra.yml

```yaml
version: '3.8'

services:
  llamaindex-ingestion:
    # ... build config
    # CHANGE: Reference root .env instead of local file
    env_file:
      - ../../.env
    environment:
      - QDRANT_HOST=qdrant
      - QDRANT_PORT=6333
      - LOG_LEVEL=${LOG_LEVEL:-INFO}
    # ... resto da configura√ß√£o
```

#### 2.3 Atualizar docker-compose.monitoring.yml

```yaml
version: '3.8'

services:
  grafana:
    # ... image config
    # ADD: Reference root .env
    env_file:
      - ../.env
    environment:
      - GF_SECURITY_ADMIN_USER=${GRAFANA_ADMIN_USER:-admin}
      - GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_ADMIN_PASSWORD}
    # ... resto da configura√ß√£o
```

### Fase 3: Atualiza√ß√£o dos Servi√ßos Backend (Dia 2-3)

#### 3.1 Atualizar APIs Node.js

Cada API deve carregar vari√°veis de um `.env` na raiz ou via vari√°veis de ambiente:

**`backend/api/idea-bank/src/config.js`**:

```javascript
import dotenv from 'dotenv';
import path from 'path';
import { fileURLToPath } from 'url';

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// Load .env from project root
const projectRoot = path.resolve(__dirname, '../../../..');
dotenv.config({ path: path.join(projectRoot, '.env') });

export default {
  port: process.env.WORKSPACE_PORT || 3100,
  dbPath: process.env.WORKSPACE_LEGACY_DB_PATH || './data/ideas.json',
  corsOrigin: process.env.CORS_ORIGIN || 'http://localhost:3103',
  // ... outras configs
};
```

#### 3.2 Atualizar Frontend

**`frontend/apps/dashboard/.env`** ‚Üí Remover, usar raiz

**`frontend/apps/dashboard/vite.config.ts`**:

```typescript
import { defineConfig, loadEnv } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig(({ mode }) => {
  // Load env from project root
  const env = loadEnv(mode, path.resolve(__dirname, '../../..'), '');
  
  return {
    plugins: [react()],
    server: {
      port: 3103,
    },
    define: {
      'process.env.VITE_API_URL': JSON.stringify(env.VITE_API_URL),
      'process.env.VITE_WS_URL': JSON.stringify(env.VITE_WS_URL),
      // ... outras vari√°veis
    },
  };
});
```

### Fase 4: Documenta√ß√£o e CI/CD (Dia 3)

#### 4.1 Atualizar .gitignore

```gitignore
# Environment Files
.env
.env.local
.env.*.local

# Keep only the template
!.env.example
```

#### 4.2 Criar Documenta√ß√£o

**`docs/context/ops/ENVIRONMENT-CONFIGURATION.md`**:

```markdown
# Environment Configuration Guide

## Quick Start

1. Copy template:
   ```bash
   cp .env.example .env
   ```

2. Run interactive setup:
   ```bash
   bash scripts/env/setup-env.sh
   ```

3. Validate configuration:
   ```bash
   bash scripts/env/validate-env.sh
   ```

4. Start services:
   ```bash
   bash scripts/docker/start-stacks.sh
   ```

## Manual Configuration

Edit `.env` file in project root with your values...
```

#### 4.3 Atualizar CI/CD

**`.github/workflows/validate-env.yml`**:

```yaml
name: Validate Environment

on:
  pull_request:
    paths:
      - '.env.example'
      - 'scripts/env/**'

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Check .env.example exists
        run: test -f .env.example
      
      - name: Validate template
        run: |
          cp .env.example .env
          # Set dummy values for required vars
          sed -i 's/CHANGE_ME.*/test_value/g' .env
          bash scripts/env/validate-env.sh
```

### Fase 5: Migra√ß√£o (Dia 4)

#### 5.1 Script de Migra√ß√£o

**`scripts/env/migrate-env.sh`**:

```bash
#!/bin/bash
# Migrate existing .env files to centralized .env

set -e

echo "üîÑ Migrating environment files to centralized .env..."

# Backup existing .env if exists
if [ -f ".env" ]; then
    cp .env .env.backup.$(date +%Y%m%d_%H%M%S)
    echo "üì¶ Backed up existing .env"
fi

# Start from template
cp .env.example .env

# Merge from infrastructure/compose/.env.timescaledb if exists
if [ -f "infrastructure/compose/.env.timescaledb" ]; then
    echo "üì• Merging TimescaleDB variables..."
    # Extract and merge variables
    grep -E "^TIMESCALEDB_|^PGADMIN_" infrastructure/compose/.env.timescaledb >> .env.tmp || true
fi

# Merge from infrastructure/compose/.env.ai-tools if exists
if [ -f "infrastructure/compose/.env.ai-tools" ]; then
    echo "üì• Merging AI Tools variables..."
    grep -E "^OPENAI_|^QDRANT_|^RATE_LIMIT_|^LOG_LEVEL" infrastructure/compose/.env.ai-tools >> .env.tmp || true
fi

# Deduplicate and merge
if [ -f ".env.tmp" ]; then
    sort -u .env.tmp > .env.merged
    # Merge with .env
    cat .env.merged >> .env
    rm .env.tmp .env.merged
fi

echo "‚úÖ Migration complete!"
echo "üìù Review .env file and adjust as needed"
echo "üóëÔ∏è  Old .env files can be removed from infrastructure/compose/"
```

## üìã Checklist de Implementa√ß√£o

### Prepara√ß√£o
- [ ] Criar `.env.example` completo com todas as se√ß√µes
- [ ] Criar `scripts/env/validate-env.sh`
- [ ] Criar `scripts/env/setup-env.sh`
- [ ] Criar `scripts/env/migrate-env.sh`
- [ ] Atualizar `.gitignore`

### Atualiza√ß√£o de Compose Files
- [ ] `infrastructure/compose/docker-compose.infra.yml`
- [ ] `infrastructure/compose/docker-compose.data.yml`
- [ ] `infrastructure/compose/docker-compose.timescale.yml`
- [ ] `infrastructure/compose/docker-compose.infra.yml`
- [ ] `infrastructure/monitoring/docker-compose.yml`
- [ ] `frontend/compose/docker-compose.frontend.yml`

### Atualiza√ß√£o de Servi√ßos
- [ ] `backend/api/idea-bank/` - Carregar .env da raiz
- [ ] `frontend/apps/tp-capital/` - Carregar .env da raiz
- [ ] `frontend/apps/b3-market-data/` - Carregar .env da raiz
- [ ] `backend/api/documentation-api/` - Carregar .env da raiz
- [ ] `frontend/apps/service-launcher/` - Carregar .env da raiz
- [ ] `frontend/apps/dashboard/` - Vite config para carregar da raiz

### Documenta√ß√£o
- [ ] Criar `docs/context/ops/ENVIRONMENT-CONFIGURATION.md`
- [ ] Atualizar `infrastructure/README.md`
- [ ] Atualizar `README.md` principal
- [ ] Atualizar `CLAUDE.md` com novo processo

### CI/CD
- [ ] Criar `.github/workflows/validate-env.yml`
- [ ] Atualizar workflows existentes para usar .env.example

### Testes
- [ ] Testar setup-env.sh em ambiente limpo
- [ ] Testar validate-env.sh com .env v√°lido/inv√°lido
- [ ] Testar cada stack com novo .env centralizado
- [ ] Testar migra√ß√£o de .env existentes

## üö® Riscos e Mitiga√ß√µes

| Risco | Impacto | Mitiga√ß√£o |
|-------|---------|-----------|
| Perda de configura√ß√µes existentes | Alto | Script de migra√ß√£o + backup autom√°tico |
| Quebra de servi√ßos durante migra√ß√£o | M√©dio | Migra√ß√£o por fases, testes em cada etapa |
| Conflito de vari√°veis entre servi√ßos | Baixo | Namespacing de vari√°veis por servi√ßo |
| .env muito grande | Baixo | Organiza√ß√£o por se√ß√µes, coment√°rios claros |

## üìä Cronograma

| Fase | Dura√ß√£o | Entregas |
|------|---------|----------|
| 1. Prepara√ß√£o | 1 dia | Templates, scripts b√°sicos |
| 2. Compose Files | 1 dia | Todos compose files atualizados |
| 3. Servi√ßos Backend/Frontend | 1 dia | Todos servi√ßos carregando .env raiz |
| 4. Documenta√ß√£o & CI | 1 dia | Docs completas, CI configurado |
| 5. Migra√ß√£o & Testes | 1 dia | Migra√ß√£o testada, rollback plan |

**Total: 5 dias √∫teis**

## üéØ Crit√©rios de Sucesso

1. ‚úÖ Existe apenas UM arquivo `.env` na raiz do projeto
2. ‚úÖ `.env.example` cont√©m TODAS as vari√°veis necess√°rias
3. ‚úÖ Scripts de valida√ß√£o/setup funcionam corretamente
4. ‚úÖ TODOS os compose files referenciam `.env` da raiz
5. ‚úÖ TODAS as APIs carregam vari√°veis do `.env` raiz
6. ‚úÖ Frontend carrega vari√°veis do `.env` raiz
7. ‚úÖ Documenta√ß√£o completa e atualizada
8. ‚úÖ CI valida `.env.example` em PRs
9. ‚úÖ Nenhum arquivo `.env.*.local` commitado

## üìù Notas de Desenvolvimento

### Padr√£o de Carregamento para Node.js

```javascript
import dotenv from 'dotenv';
import path from 'path';

// Find project root (where .env is)
const projectRoot = path.resolve(__dirname, '../../..');
dotenv.config({ path: path.join(projectRoot, '.env') });
```

### Padr√£o de Carregamento para Vite (Frontend)

```javascript
import { loadEnv } from 'vite';
const env = loadEnv(mode, path.resolve(__dirname, '../../..'), '');
```

### Padr√£o para Docker Compose

```yaml
env_file:
  - ../../.env  # Caminho relativo para raiz
```

## üîó Refer√™ncias

- [Twelve-Factor App - Config](https://12factor.net/config)
- [Docker Compose Environment Files](https://docs.docker.com/compose/environment-variables/)
- [Node.js dotenv Best Practices](https://github.com/motdotla/dotenv#readme)

---

**Status**: üü° Draft - Aguardando Aprova√ß√£o  
**Respons√°vel**: DevOps Team  
**Revisores**: @marceloterra

