# ============================================================================
# WebScraper API - Environment Variables (ROOT .env)
# ============================================================================
# These variables MUST be added to the root .env file at:
#   /home/marce/projetos/TradingSystem/.env
#
# DO NOT create a local .env file in this directory!
# ============================================================================

# ----------------------------------------------------------------------------
# Server Configuration
# ----------------------------------------------------------------------------
WEBSCRAPER_API_PORT=3700
NODE_ENV=development

# ----------------------------------------------------------------------------
# Database Configuration
# ----------------------------------------------------------------------------
# PostgreSQL connection via frontend-apps container
# Format: postgresql://user:password@host:port/database?schema=schema_name
WEBSCRAPER_DATABASE_URL=postgresql://app_webscraper:app_webscraper_dev_password@localhost:5444/frontend_apps?schema=webscraper

# Note: When running in Docker, use container name instead of localhost:
# WEBSCRAPER_DATABASE_URL=postgresql://app_webscraper:app_webscraper_dev_password@data-frontend-apps:5432/frontend_apps?schema=webscraper

# ----------------------------------------------------------------------------
# Firecrawl Integration
# ----------------------------------------------------------------------------
WEBSCRAPER_FIRECRAWL_PROXY_URL=http://localhost:3600

# ----------------------------------------------------------------------------
# Scheduler Configuration (Optional)
# ----------------------------------------------------------------------------
WEBSCRAPER_SCHEDULER_ENABLED=false
WEBSCRAPER_SCHEDULER_MAX_CONCURRENT_JOBS=5
WEBSCRAPER_SCHEDULER_RETRY_ATTEMPTS=3
WEBSCRAPER_SCHEDULER_RETRY_DELAY_MS=1000
WEBSCRAPER_SCHEDULER_MAX_FAILURES=10
WEBSCRAPER_SCHEDULER_TIMEZONE=America/Sao_Paulo

# ----------------------------------------------------------------------------
# Export Configuration (Optional)
# ----------------------------------------------------------------------------
WEBSCRAPER_EXPORT_ENABLED=true
WEBSCRAPER_EXPORT_DIR=/tmp/webscraper-exports
WEBSCRAPER_EXPORT_TTL_HOURS=24
WEBSCRAPER_EXPORT_CLEANUP_INTERVAL_HOURS=6
WEBSCRAPER_EXPORT_MAX_ROWS=100000
WEBSCRAPER_EXPORT_MAX_FILE_SIZE_MB=500

# ----------------------------------------------------------------------------
# Logging & Monitoring
# ----------------------------------------------------------------------------
WEBSCRAPER_LOG_LEVEL=info
WEBSCRAPER_RATE_LIMIT_WINDOW_MS=60000
WEBSCRAPER_RATE_LIMIT_MAX=200

# ----------------------------------------------------------------------------
# CORS Configuration
# ----------------------------------------------------------------------------
WEBSCRAPER_CORS_ORIGIN=http://localhost:3103,http://localhost:3004
WEBSCRAPER_DISABLE_CORS=false
